This  functionality has been implemented in the Intellij IDE.
